# Вопросы

## 1. Чем можно было заменить нашу кастомную ошибку `AdditionalMessageError`, чтобы быстрее и проще добавлять контекста в сообщение ошибки?

Ответ:
Использовать стандартное обёртывание через fmt.Errorf с %w.

return fmt.Errorf("adding balance for user %d: %w", userID, err)


## 2. Что произойдет, если в методе `Error()` структуры `AdditionalMessageError` мы забудем обработать случай, когда `err == nil`?

Ответ:
Строка ошибки станет  "msg: <nil>" вместо просто "msg". 
Это  ломает тесты/логіку, где ожидается «чистое» сообщение без с <nil>.

## 3. В чем разница между `errors.Is()` и `errors.As()`? Когда какой метод использовать?

Ответ:
errors.Is() проверяет, есть ли в цепочке конкретная ошибка (ErrNotFound).
errors.As() ищет ошибку нужного типа и дает с ней работать (вызвать методы).

## 4. Почему в handler'е мы проверяем наличие ошибок в error chain, а не сравниваем типы напрямую?

Ответ:
Ошибки оборачиваются (через %w,  обёртки).
Прямое сравнение типов/значений начнёт ложно не срабатывать. 
errors.Is/As корректно проходит по всей цепочке, остаётся устойчивым к добавлению контекста и изменениям в способах оборачивания
